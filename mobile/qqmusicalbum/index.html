<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>巅峰乐语路-周笔畅 --- 仿QQ音乐</title>
    <meta name="keywords" content="巅峰乐语路-周笔畅 --- 仿QQ音乐">
    <meta name="description" content="巅峰乐语路-周笔畅 --- 仿QQ音乐">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no, email=no, address=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-touch-fullscreen" content="yes">
    <meta name="screen-orientation" content="portrait">
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, width=device-width">
    <script type="text/javascript">var rectWidth = document.documentElement.getBoundingClientRect().width; </script>
    <script src="../js-lib/viewFixed.min.js"></script>
    <link href="style.css" rel="stylesheet">
</head>
<body>
    <!--根容器-->
    <section class="pages-wrapper animated">
        <!--分屏样式一：有且仅有一张全屏背景图-->
        <div class="pager empty" style="background: #000 url(images/001.jpg) no-repeat center center; background-size: cover;"></div>

        <!--分屏样式二：目录结构-->
        <div class="pager index" data-pagerOn="pagerIndexOn" data-pagerOff="pagerIndexOff">
            <section class="half-img" style="background: #000 url(images/002.jpg) no-repeat center center; background-size: cover;"></section>
            <aside>
                <h1>目录</h1>
                <h2>INDEX</h2>
            </aside>
            <nav>
                <a href="javascript:void(0);">简介<i></i>超女是怎么炼成的</a>
                <a href="javascript:void(0);">好碟成双<i></i>对音乐毫无保留</a>
                <a href="javascript:void(0);">潜力无限<i></i>音乐王国的冒险</a>
                <a href="javascript:void(0);">能写会唱<i></i>一个会创作的笔笔</a>
                <a href="javascript:void(0);">数字挑战<i></i>下一站互联网</a>
            </nav>
        </div>

        <!--分屏样式三：全屏背景图+顶部介绍文字-->
        <div class="pager top" style="background: #000 url(images/003.jpg) no-repeat center center; background-size: cover;" data-pagerOn="pagerTopOn" data-pagerOff="pagerTopOff">
            <aside style="border-right-color: #7ecef4;">
                <h1 style="color:#7ecef4;">简介</h1>
                <h2 style="color:#7ecef4;">ABOUT</h2>
            </aside>
            <p class="d-title" style="color:#7ecef4;">超女是怎么炼成的</p>
            <article>
                <p style="color:#fff;">周笔畅，华语女歌手、词曲创作人、演员、Begins品牌主理人兼设计总监，1985年7月26日出生于湖南长沙。2006年发行首张个人专...</p>
                <a class="moreText" href="javascript:void(0);" data-source="周笔畅，华语女歌手、词曲创作人、演员、Begins品牌主理人兼设计总监，1985年7月26日出生于湖南长沙。\r\n2006年发行首张个人专辑《谁动了我的琴弦》，并先后在电影《春田花花同学会》及《第601个电话》中担任女主角。2007年赴美国洛杉矶音乐学院进修并以全A成绩毕业。2008年凭借双子专辑《Now》《Wow》获东方风云榜和MusicRadio中国TOP排行榜“最佳女歌手”。2010年展开个人全国巡回演唱会《唱歌去旅行》，首场门票40分钟售罄。同年，其长发转型专辑《i鱼光镜》发行首周获台湾G-music双榜冠军，其中的英文歌《I&nbsp;miss&nbsp;u&nbsp;missing&nbsp;me》后被英国歌手Leona&nbsp;Lewis翻唱，成为首位英文作品被欧美歌手翻唱的华语歌手。2012年成立个人工作室Begins&nbsp;Studio。2014年获欧洲音乐大奖（EMA）“全球最佳艺人”，并两度受邀巴黎时装周。2015年获美国儿童选择奖（KCA）“最受欢迎华语艺人”。截止2015年4月，她共获国内外214个奖项，并成为首位囊括音乐风云榜、东方风云榜、MusicRadio中国TOP排行榜、音乐先锋榜等6大颁奖礼“最佳女歌手、最受欢迎女歌手、最佳专辑”奖的中国内地歌手。\r\n今年6月，周笔畅在QQ音乐发行自己数字迷你专辑《翻白眼》，开启内地数字音乐营销新模式，引发巨大效应。7月6日，周笔畅数字专辑《翻白眼II》第二辑又将开启新一轮预售。"></a>
            </article>
        </div>

        <!--分屏样式四：全屏背景图+左上角内容区-->
        <div class="pager top-left" style="background: #000 url(images/005.jpg) no-repeat center center; background-size: cover;" data-pagerOn="pagerTopLeftOn" data-pagerOff="pagerTopLeftOff">
            <h1 class="m-title" style="color:#7ecef4;">好碟成双</h1>
            <h2 class="s-title" style="color:#7ecef4;">对音乐毫无保留</h2>
            <a class="media" href="javascript:void(0);" data-icon="images/icon.jpg" data-owner="周笔畅" data-source="http://ws.stream.qqmusic.qq.com/5225266.m4a?fromtag=30" style="background-color:#7ecef4;">管他什么音乐</a>
            <article>
                <p style="color:#fff;">继2006年成功发行首张专辑《谁动了我的琴弦》后，周笔畅又在2007年年底，发...</p>
                <a class="moreText" href="javascript:void(0);" data-source="继2006年成功发行首张专辑《谁动了我的琴弦》后，周笔畅又在2007年年底，发行了自己的新专辑。但这一次的她，则选择了一种不同的方式，一口气推出了《Now》和《Wow》两张唱片。\r\n历史上，像The&nbsp;Beatles、Pink&nbsp;Floyd这样的传奇乐团，都曾经发行过双唱片专辑，而这些双唱片专辑，大部分也成了流行音乐史上的经典。毫无疑问，双唱片专辑肯定要花费比单唱片专辑更多的心思，这也是很多歌手不愿意尝试的原因。毕竟，多发行一张专辑，就可以多一个档期，多一次抛头露面的机会，能够获得最大的商业回报\r\n但年轻气盛的周笔畅，则在出道之初，就表现出了她对音乐的那种毫无保留，不仅是想唱就唱，而且一定要一次性唱个够本，“管他什么音乐”、痛快淋漓才行。这也让周笔畅成为华语乐坛历史上，为数不多的拥有双唱片专辑的歌手。这一点，就连陶喆、周杰伦、王力宏、蔡依林等等歌手也没做到过。而最近的例子，还是汪峰的那张《生无所求》。"></a>
            </article>
        </div>

        <!--分屏样式五：全屏背景图+右上角内容区-->
        <div class="pager top-right" style="background: #000 url(images/006.jpg) no-repeat center center; background-size: cover;" data-pagerOn="pagerTopRightOn" data-pagerOff="pagerTopRightOff">
            <h1 class="m-title" style="color:#7ecef4;">潜力无限</h1>
            <h2 class="s-title" style="color:#7ecef4;">音乐王国的冒险</h2>
            <a class="media" href="javascript:void(0);" data-icon="images/icon.jpg" data-owner="周笔畅" data-source="http://ws.stream.qqmusic.qq.com/102209882.m4a?fromtag=30" style="background-color:#7ecef4;">自得其乐</a>
            <article>
                <p style="color:#fff;">因为翻唱陶喆的作品，让很多人对周笔畅的印象，都停留在R&B风格的基础上。...</p>
                <a class="moreText" href="javascript:void(0);" data-source="因为翻唱陶喆的作品，让很多人对周笔畅的印象，都停留在R&amp;B风格的基础上。但R&amp;B只是周笔畅早年音乐进阶的一种入口，对于她来讲，之后的音乐人生，可不仅仅只有R&amp;B一种类型。\r\n从“乐林文化”时的横冲直撞，到“金牌大风”后的成熟历练，周笔畅的每一张专辑，都是一次音乐寻梦的起点，也总会有一些意想不到的收获。小安、陈珊妮、蔡健雅、范晓萱、陈小霞、方大同、郭顶……在周笔畅的专辑里，从来没有固定班底这个说法，只有不断的尝试和挑战。\r\n就算是登上第二季“我是歌手”的舞台，周笔畅也还是那个百变的周笔畅，将舞台当成自己试验田而非名利场的周笔畅。出道快要十年，却还是在音乐的世界里撒野、尽性，在不确定的呈现方式中，创造音乐无尽的可能性。"></a>
            </article>
        </div>

        <!--分屏样式五：全屏背景图+右上角内容区-->
        <div class="pager top-right" style="background: #000 url(images/007.jpg) no-repeat center center; background-size: cover;" data-pagerOn="pagerTopRightOn" data-pagerOff="pagerTopRightOff">
            <h1 class="m-title" style="color:#7ecef4;">能写会唱</h1>
            <h2 class="s-title" style="color:#7ecef4;">一个会创作的笔笔</h2>
            <a class="media" href="javascript:void(0);" data-icon="images/icon.jpg" data-owner="周笔畅" data-source="http://ws.stream.qqmusic.qq.com/4817252.m4a?fromtag=30" style="background-color:#7ecef4;">晚安的话</a>
            <article>
                <p style="color:#fff;">除了舞台上那个竭尽所能的歌手之外，周笔畅在音乐世界里，同样还承担另...</p>
                <a class="moreText" href="javascript:void(0);" data-source="除了舞台上那个竭尽所能的歌手之外，周笔畅在音乐世界里，同样还承担另一个重要的角色——词曲作者。《只剩我一个》、《呃》、《未来就是现在》、《彼此》、《妈妈，我不哭》的曲，以及《星期三的信》、《偶然》、《晚安的话》这些作品的词，就都出自周笔畅之手。\r\n和那些急于证明自己创作才华的歌手不同，周笔畅还是在演唱与创作之间，取得了一个更好的平衡，也让最新鲜的音乐元素，和一个最本色的自己，在不同的创作世界里，得到一种最完美的融合。而在《晚安的话》这样的作品里，更是体现出周笔畅极好的文字才华，文字细腻、格局壮丽，并不逊色于一些顶尖词人的作品。\r\n除此之外，周笔畅还有《如果我能说了算》这样的文字作品，坐实她才女的身份。虽然，她并没有将这个身份定义经常挂在嘴边，但懂的人自然会懂。"></a>
            </article>
        </div>

        <!--分屏样式四：全屏背景图+右上角内容区-->
        <div class="pager top-left" style="background: #000 url(images/008.jpg) no-repeat center center; background-size: cover;" data-pagerOn="pagerTopLeftOn" data-pagerOff="pagerTopLeftOff">
            <h1 class="m-title" style="color:#7ecef4;">数字挑战</h1>
            <h2 class="s-title" style="color:#7ecef4;">下一站互联网</h2>
            <a class="media" href="javascript:void(0);" data-icon="images/icon.jpg" data-owner="周笔畅" data-source="http://ws.stream.qqmusic.qq.com/614510.m4a?fromtag=30" style="background-color:#7ecef4;">你们的爱</a>
            <article>
                <p style="color:#fff;">2006年出道的周笔畅，“诞生”在一个实体唱片从辉煌走向没落的时代。不过...</p>
                <a class="moreText" href="javascript:void(0);" data-source="2006年出道的周笔畅，“诞生”在一个实体唱片从辉煌走向没落的时代。不过，凭借着自身的音乐能力，周笔畅还是抓住了黄金时代的尾巴，在两岸三地都取得了相当好的销量，并且经常成为中国台湾和内地销量榜的冠军。\r\n但不可否认的是，实体唱片的衰落甚至消亡，已经是大势所趋，数字音乐才是未来的主流。虽然还是有很多歌手，依然固执的追寻着自己的实体唱片梦，但周笔畅却在这个时代的转折路口，又一次地表现出她勇于实践的冒险精神，通过国内最大的在线数字音乐平台——QQ音乐，来发行自己的最新专辑。首张迷你专辑《翻白眼I》预售一天，就破了十万大关。而作为三部曲的第二部，《翻白眼II》也将在7月6日开始新一轮的预售。\r\n歌手的视野，决定了她的事业格局。对于互联网的拥抱，其实也是周笔畅对于未来的一种新挑战。在一种全新的发行模式之下，也会导致音乐制作、互动等等环节的变化。这一次，周笔畅又走在了前头。"></a>
            </article>
        </div>

        <!--默认保留分屏：播放全部、策划编辑、关注微信公众账号等-->
        <div class="pager last">
            <footer>
                <img class="logo" src="images/winsharemusic_logo.png">
                <div>
                    <img src="images/weixin_qrCode_img.png">
                    <p>
                        <label>关注文轩音乐</label>
                        <label>微信公众平台</label>
                        <label>就是要搞原创</label>
                        <label>就是要玩音乐！！</label>
                    </p>
                </div>
                <a class="playerAll" href="javascript:void(0);">播放全部</a>
                <p class="owners">
                    策划 | 刘小天
                    &nbsp;&nbsp;&nbsp;&nbsp;
                    文 | 小桃
                </p>
            </footer>
        </div>
    </section>

    <!--页码、滑动指示箭头-->
    <div class="bottons-layer">
        <label>
            <b id="b_curPageIdx">1</b>
            <b>/</b>
            <b id="b_pageCount">1</b>
        </label>
        <span class="animated" id="span_upArrow"></span>
        <!--<a id="a_mute" href="javascript:void(0);"></a>-->
    </div>

    <!--更多文本查看-->
    <div class="text-layer">
        <div class="content">
            <p></p>
        </div>
        <a class="close" href="javascript:void(0);">
            <span></span>
        </a>
    </div>

    <!--迷你播放器-->
    <section class="miniPlayer-bar">
        <span id="span_progress" class="progress"></span>
        <p>
            <img id="img_currentIcon" src="images/df_icon_bg.png">
        </p>
        <div>
            <h1 id="h1_currentTitle"></h1>
            <h2 id="h2_currentOwner"></h2>
        </div>
        <a id="a_playCtrl" class="ctrl play" href="javascript:void(0);"></a>
        <a id="a_listSwitch" class="more" href="javascript:void(0);"></a>
    </section>

    <section class="miniPlayer-list">
        <div class="top">
            <label>播放列表</label>
            <span>共 <b id="b_listCount">0</b> 首</span>
        </div>
        <div class="list" id="div_listRender">
            <ul id="ul_itemListRender"></ul>
        </div>
        <div class="bottom">
            <a id="a_listClose" href="javascript:void(0);">关闭</a>
        </div>
    </section>

    <!--页面脚本-->
    <script src="../js-lib/zepto.min.js"></script>
    <script src="../js-lib/fastclick.min.js"></script>
    <script src="../js-lib/toucher.min.js"></script>
    <script src="../js-lib/iscroll-lite.min.js"></script>
    <script src="../js-lib/H5MiniPlayer_Audio.min.js"></script>
    <script type="text/javascript">
        var imagePlaceholder = 'images/df_icon_bg.png',
            transitionendEvents = 'webkitTransitionEnd mozTransitionEnd MSTransitionEnd otransitionend transitionend',

     //元素初始化
     documentBase = (function ($) {
         var isIOS = window.Device.IPhone || window.Device.IPod || window.Device.IPad,
             isIOS2X = isIOS && rectWidth == 320,
             isIphone4s = isIOS2X && $(window).height() <= 640,
             initPageBase = function () {
                 $(document.body).css({ 'background-color': '#000' });
                 $('.pages-wrapper').css({ 'width': '100%', 'background-color': '#fff' });
                 isIOS2X && !isIphone4s && $('.pages-wrapper').addClass('pages-2x');
                 isIphone4s && $('.pages-wrapper').addClass('pages-samll');
             },
             setImgPlacehoder = function () {
                 $('img').each(function (idx, el) {
                     $(el)[0].onerror = function () {
                         this.src = imagePlaceholder;
                         this.onerror = null;
                         return false;
                     };
                 });
             },
             setPagersHeight = function () {
                 var winHeight = $(window).height();
                 $('.pager').css('height', winHeight + 'px');
             };

         return {
             init: initPageBase,
             setImgPlacehoder: setImgPlacehoder,
             setPagersHeight: setPagersHeight
         };
     })($),

     //划屏滚动
     pagerScroll = (function ($) {
         var pagerWrapper = $('.pages-wrapper'),
             toucher = util.toucher(pagerWrapper[0]),
             pagers = pagerWrapper.find('.pager'),
             count = pagers.length,
             curIndex = 0,
             nextIndex = 1,
             pageMoving = false,
             upArrowRender = $('#span_upArrow'),
             pageIndexRender = $('#b_curPageIdx'),
             pageCountRender = $('#b_pageCount'),
             initPagers = function () {
                 pageIndexRender.html(1);
                 pageCountRender.html(count);
                 pagersOff(pagers);
                 pagersOn(0);

                 var pIndex = pagers.filter('.index').eq(0);
                 if (pIndex && pIndex.length > 0) {
                     pIndex.find(' > nav > a').each(function (idx, el) {
                         (function (idx, el) {
                             el.on('click', function () {
                                 var pId = idx + 2;
                                 pId <= count - 1 && moveToPager(pId, null);
                             });
                         })(idx, $(el));
                     });
                 }
             },
             pagersOn = function (idx) {
                 var pager = pagers.eq(idx),
                     tigger = pager.attr('data-pagerOn') || '';
                 tigger && tigger != '' && pagerAnimation[tigger] && pagerAnimation[tigger](pager);
             },
             pagersOff = function (p) {
                 p.each(function (idx, el) {
                     (function (idx, el) {
                         var tigger = el.attr('data-pagerOff') || '';
                         tigger && tigger != '' && pagerAnimation[tigger] && pagerAnimation[tigger](el);
                     })(idx, $(el));
                 });
             },
             moveToPager = function (idx, callback) {
                 if (!pageMoving) {
                     pageMoving = true;
                     var winHeight = $(window).height(),
                         distance = -idx * winHeight;

                     pagerWrapper.css({ 'transform': 'translate3d(0, ' + distance + 'px, 0)', '-webkit-transform': 'translate3d(0, ' + distance + 'px, 0)' }).on(transitionendEvents, function () {
                         pagerWrapper.off(transitionendEvents);
                         pageMoving = false;
                         curIndex = idx;
                         pageIndexRender.html(idx + 1);
                         idx >= count - 1 && upArrowRender.hide();
                         idx < count - 1 && upArrowRender.show();
                         callback && callback();

                         pagersOn(idx);
                         pagersOff(pagers.not(pagers.eq(idx)));
                     });
                 }
             };

         //绑定滑动事件
         toucher.on('swipeUp', function () {
             if (curIndex < count - 1) {
                 nextIndex = curIndex + 1;
                 moveToPager(nextIndex, null);
             }
         }).on('swipeDown', function () {
             if (curIndex > 0) {
                 nextIndex = curIndex - 1;
                 moveToPager(nextIndex, null);
             }
         });

         return {
             init: initPagers
         };
     })($),

     //页面分屏动画
     pagerAnimation = {
         'pagerIndexOn': function (pager) {
             var aside = pager.find('aside');
             if (aside && aside.length > 0) {
                 aside.addClass('animated')
                     .css({ '-webkit-transition': 'all 1s ease', 'transition': 'all 1s ease', 'opacity': 1, '-webkit-transform': 'translate3d(16px, 0, 0)', 'transform': 'translate3d(16px, 0, 0)' })
                     .on(transitionendEvents, function () {
                         aside.off(transitionendEvents);
                     });
             }

             var naviEls = pager.find(' > nav > a');
             if (naviEls && naviEls.length > 0) {
                 naviEls.each(function (idx, el) {
                     (function (idx, el) {
                         var delay = (200 * idx) / 1000;
                         el.addClass('animated')
                             .css({ '-webkit-transition': 'all .6s ease ' + delay + 's', 'transition': 'all .6s ease ' + delay + 's', 'opacity': 1, '-webkit-transform': 'scale(1)', 'transform': 'scale(1)' })
                             .on(transitionendEvents, function () {
                                 el.off(transitionendEvents);
                             });
                     })(idx, $(el));
                 });
             }
         },
         'pagerIndexOff': function (pager) {
             pager.find('aside').css({ '-webkit-transition': 'all 0s ease', 'transition': 'all 0s ease', 'opacity': 0, '-webkit-transform': 'translate3d(-160px, 0, 0)', 'transform': 'translate3d(-160px, 0, 0)' });
             pager.find(' > nav > a').css({ '-webkit-transition': 'all 0s ease', 'transition': 'all 0s ease', 'opacity': 0, '-webkit-transform': 'scale(1.5)', 'transform': 'scale(1.5)' });
         },
         'pagerTopOn': function (pager) {
             var aside = pager.find('aside');
             if (aside && aside.length > 0) {
                 aside.addClass('animated')
                     .css({ '-webkit-transition': 'all 1s ease', 'transition': 'all 1s ease', 'opacity': 1, '-webkit-transform': 'translate3d(16px, 0, 0)', 'transform': 'translate3d(16px, 0, 0)' })
                     .on(transitionendEvents, function () {
                         aside.off(transitionendEvents);
                     });
             }

             var pTitle = pager.find('p.d-title');
             if (pTitle && pTitle.length > 0) {
                 pTitle.addClass('animated')
                     .css({ '-webkit-transition': 'all .4s ease-out', 'transition': 'all .4s ease-out', 'opacity': 1, '-webkit-transform': 'scale(1)', 'transform': 'scale(1)' })
                     .on(transitionendEvents, function () {
                         pTitle.off(transitionendEvents);
                     });
             }

             var article = pager.find('article');
             if (article && article.length > 0) {
                 article.addClass('animated')
                     .css({ '-webkit-transition': 'all .6s ease-out .4s', 'transition': 'all .6s ease-out .4s', 'opacity': 1, '-webkit-transform': 'scale(1)', 'transform': 'scale(1)' })
                     .on(transitionendEvents, function () {
                         article.off(transitionendEvents);
                     });
             }
         },
         'pagerTopOff': function (pager) {
             pager.find('aside').css({ '-webkit-transition': 'all 0s ease', 'transition': 'all 0s ease', 'opacity': 0, '-webkit-transform': 'translate3d(-160px, 0, 0)', 'transform': 'translate3d(-160px, 0, 0)' });
             pager.find('p.d-title').css({ '-webkit-transition': 'all 0s ease', 'transition': 'all 0s ease', 'opacity': 0, '-webkit-transform': 'scale(1, 0)', 'transform': 'scale(1, 0)' });
             pager.find('article').css({ '-webkit-transition': 'all 0s ease', 'transition': 'all 0s ease', 'opacity': 0, '-webkit-transform': 'scale(1, 0)', 'transform': 'scale(1, 0)' });
         },
         'pagerTopLeftOn': function (pager) {
             pagerAnimation['top-left-right-on'](pager);
         },
         'pagerTopLeftOff': function (pager) {
             pagerAnimation['top-left-right-off'](pager);
         },
         'pagerTopRightOn': function (pager) {
             pagerAnimation['top-left-right-on'](pager);
         },
         'pagerTopRightOff': function (pager) {
             pagerAnimation['top-left-right-off'](pager);
         },
         'top-left-right-on': function (pager) {
             var mTitle = pager.find('h1.m-title');
             if (mTitle && mTitle.length > 0) {
                 mTitle.addClass('animated')
                     .css({ '-webkit-transition': 'all 1s ease', 'transition': 'all 1s ease', 'opacity': 1, '-webkit-transform': 'scale(1)', 'transform': 'scale(1)' })
                     .on(transitionendEvents, function () {
                         mTitle.off(transitionendEvents);
                     });
             }

             var sTitle = pager.find('h2.s-title');
             if (sTitle && sTitle.length > 0) {
                 sTitle.addClass('animated')
                     .css({ '-webkit-transition': 'all 1s ease .2s', 'transition': 'all 1s ease .2s', 'opacity': 1, '-webkit-transform': 'scale(1)', 'transform': 'scale(1)' })
                     .on(transitionendEvents, function () {
                         sTitle.off(transitionendEvents);
                     });
             }

             var media = pager.find('.media');
             if (media && media.length > 0) {
                 media.addClass('animated')
                     .css({ '-webkit-transition': 'all 2s ease .4s', 'transition': 'all 2s ease .4s', 'opacity': 1 })
                     .on(transitionendEvents, function () {
                         media.off(transitionendEvents);
                     });
             }

             var article = pager.find('article');
             if (article && article.length > 0) {
                 article.addClass('animated')
                     .css({ '-webkit-transition': 'all .6s ease-out .6s', 'transition': 'all .6s ease-out .6s', 'opacity': 1, '-webkit-transform': 'scale(1)', 'transform': 'scale(1)' })
                     .on(transitionendEvents, function () {
                         article.off(transitionendEvents);
                     });
             }
         },
         'top-left-right-off': function (pager) {
             pager.find('h1.m-title').css({ '-webkit-transition': 'all 0s ease', 'transition': 'all 0s ease', 'opacity': 0, '-webkit-transform': 'scale(0, 1)', 'transform': 'scale(0, 1)' });;
             pager.find('h2.s-title').css({ '-webkit-transition': 'all 0s ease', 'transition': 'all 0s ease', 'opacity': 0, '-webkit-transform': 'scale(0, 1)', 'transform': 'scale(0, 1)' });;
             pager.find('.media').css({ '-webkit-transition': 'all 0s ease', 'transition': 'all 0s ease', 'opacity': 0 });;
             pager.find('article').css({ '-webkit-transition': 'all 0s ease', 'transition': 'all 0s ease', 'opacity': 0, '-webkit-transform': 'scale(1, 0)', 'transform': 'scale(1, 0)' });
         }
     },

     //音频播放
     mediaPlayer = (function ($) {
         var playerBar = $('.miniPlayer-bar'),
             playerList = $('.miniPlayer-list'),
             mediaElements = $('.media'),
             playerAll = $('.playerAll'),
             //playerMuteSwitch = $('#a_mute'),
             progress = $('#span_progress'),
             curIconRender = $('#img_currentIcon'),
             curTitleRender = $('#h1_currentTitle'),
             curOwnerRender = $('#h2_currentOwner'),
             btnPlayerCtrl = $('#a_playCtrl'),
             btnListSwitch = $('#a_listSwitch'),
             listCountRender = $('#b_listCount'),
             itemListRender = $('#ul_itemListRender'),
             btnListCloser = $('#a_listClose'),
             mediaUlrs = [],
             mediaDatas = [],
             player = null,
             appCommandSended = false,
             initMedias = function () {
                 if (mediaElements.length == 0) {
                     //playerBar.remove() && playerList.remove() && playerAll.hide().remove() && playerMuteSwitch.hide().remove();
                     playerBar.remove() && playerList.remove() && playerAll.hide().remove();
                     return;
                 }

                 mediaElements.each(function (idx, el) {
                     (function (idx, el) {
                         var media = { 'title': (el.html() || '未知'), 'owner': (el.attr('data-owner') || '未知'), 'icon': (el.attr('data-icon') || imagePlaceholder), 'url': el.attr('data-source') };
                         if (media.url && mediaUlrs.indexOf(media.url) < 0) {
                             mediaDatas.push(media);
                             mediaUlrs.push(media.url);

                             $('<li>').append('<p class="title">' + media.title + '</p>', '<p class="owner">' + media.owner + '</p>', '<span></span>').on('click', function () {
                                 if (!$(this).hasClass('playing')) {
                                     itemListRender.find('li.playing').removeClass('playing');
                                     $(this).addClass('playing');
                                     playMedia(idx, 'list');
                                 }
                             }).appendTo(itemListRender);
                             mediaElementsClick.call(el, idx, 'single');
                         }
                     })(idx, $(el));
                 });

                 if (mediaDatas.length > 5) {
                     new IScroll(document.getElementById('div_listRender'));
                 }

                 listCountRender.html(mediaDatas.length);
                 player = new h5MiniAudioPlayer();
                 player.add(mediaUlrs);
                 bindPlayerEvents();
                 bindElementsEvents();
             },
             bindPlayerEvents = function () {
                 player && player.on('play', function () { setPlayStatus(); })
                     .on('playing', function () { setPlayStatus(); })
                     .on('pause', function () { setPauseStatus(); })
                     .on('stop', function () { setStopStatus(); })
                     .on('ended', function () { setStopStatus(); })
                     .on('timeupdate', function () {
                         var pos = player.getPosition(),
                             duration = player.getDuration(),
                             css = (pos / duration * 100).toFixed(3);
                         progress.css('width', css + '%');
                     })
                     .on('progress', function () { })
                     .on('error', function (errMsg) { });
             },
             setPlayStatus = function () {
                 btnPlayerCtrl.hasClass('play') && btnPlayerCtrl.removeClass('play').addClass('pause');
                 !curIconRender.hasClass('animated rotateIcon') && curIconRender.addClass('animated rotateIcon');
                 //playerMuteSwitch.hasClass('mute') && playerMuteSwitch.removeClass('mute');

                 window.setTimeout(function () {
                     var curUrl = player.getCur(),
                     idx = mediaUlrs.indexOf(curUrl);
                     if (idx >= 0) {
                         curIconRender.attr('src', mediaDatas[idx].icon);
                         curTitleRender.html(mediaDatas[idx].title);
                         curOwnerRender.html(mediaDatas[idx].owner);

                         itemListRender.find('li.playing').removeClass('playing');
                         itemListRender.find('li').eq(idx).addClass('playing');
                     }
                 }, 500);
             },
             setPauseStatus = function () {
                 btnPlayerCtrl.hasClass('pause') && btnPlayerCtrl.removeClass('pause').addClass('play');
                 curIconRender.hasClass('animated rotateIcon') && curIconRender.removeClass('animated rotateIcon');
             },
             setStopStatus = function () {
                 setPauseStatus();
                 progress.css('width', 0);
             },
             changePlayerMute = function (mute) {
                 //player && player.setMute(mute);
                 //貌似移动端设置静音无效？改为暂停
                 //mute && player && player.pause();
                 //!mute && player && player.play();
             },
             mediaElementsClick = function (idx, mode) {
                 this.on('click', function () {
                     if (!playerBar.hasClass('animated')) {
                         if (!$(this).hasClass('dis')) {
                             mediaElements.addClass('dis') && playerAll.addClass('dis');
                             var distance = -playerBar.height();
                             playerBar.addClass('animated').css({ 'transform': 'translate3d(0, ' + distance + 'px, 0)', '-webkit-transform': 'translate3d(0, ' + distance + 'px, 0)' }).on(transitionendEvents, function () {
                                 mediaElements.removeClass('dis') && playerAll.removeClass('dis');
                                 playerBar.off(transitionendEvents);
                                 $('.bottons-layer').css('bottom', '64px');
                             });
                         }
                     }
                     playMedia(idx, mode);
                 });
             },
             bindElementsEvents = function () {
                 mediaElementsClick.call(playerAll, 0, 'list');

                 btnListSwitch.on('click', function () {
                     if (!playerList.hasClass('animated')) {
                         if (!$(this).hasClass('dis')) {
                             $(this).addClass('dis');
                             var distance = -playerList.height();
                             playerList.addClass('animated').css({ 'transform': 'translate3d(0, ' + distance + 'px, 0)', '-webkit-transform': 'translate3d(0, ' + distance + 'px, 0)' }).on(transitionendEvents, function () {
                                 btnListSwitch.removeClass('dis');
                                 playerList.off(transitionendEvents);
                             });
                         }
                     }
                 });

                 btnListCloser.on('click', function () {
                     if (playerList.hasClass('animated')) {
                         if (!$(this).hasClass('dis')) {
                             $(this).addClass('dis');
                             var distance = playerList.height();
                             playerList.addClass('animated').css({ 'transform': 'translate3d(0, ' + distance + 'px, 0)', '-webkit-transform': 'translate3d(0, ' + distance + 'px, 0)' }).on(transitionendEvents, function () {
                                 btnListCloser.removeClass('dis');
                                 playerList.removeClass('animated').off(transitionendEvents);
                             });
                         }
                     }
                 });

                 btnPlayerCtrl.on('click', function () {
                     if ($(this).hasClass('play')) {
                         player && player.play();
                         $(this).removeClass('play').addClass('pause');
                         curIconRender.addClass('animated rotateIcon');
                     } else {
                         player && player.pause();
                         $(this).removeClass('pause').addClass('play');
                         curIconRender.addClass('animated rotateIcon');
                     }
                 });
             },
             playMedia = function (idx, mode) {
                 progress.css('width', 0);
                 curIconRender.attr('src', mediaDatas[idx].icon);
                 curTitleRender.html(mediaDatas[idx].title);
                 curOwnerRender.html(mediaDatas[idx].owner);
                 player.pause();
                 player.setMode(mode);
                 player.setCur(mediaUlrs[idx]);
                 player.play();
             };

         return {
             init: initMedias
         };
     })($),

     //更多文本查看
     showText = (function ($) {
         var textLayer = $('.text-layer'),
             initTextElements = function () {
                 var textEls = $('.moreText');
                 if (textEls.length == 0) {
                     textLayer.hide().remove();
                     return;
                 }

                 var textRenderScroll = textLayer.find('.content'),
                     textRender = textRenderScroll.find('p');

                 textLayer.find('.close').on('click', function () {
                     textRender.html('');
                     textLayer.hide();
                 });

                 var textScroll = null;
                 textEls.each(function (idx, el) {
                     (function (idx, el) {
                         el.on('click', function () {
                             var text = $(this).attr('data-source') || '无内容';
                             textRender.html(text.replace(/\</gi, '&lt;').replace(/\>/gi, '&gt;').replace(/\\t/gi, '').replace(/\\r\\n/gi, '<br>').replace(/\\r/gi, '<br>').replace(/\n/gi, '<br>'));
                             textLayer.show();
                             if (textScroll) {
                                 textScroll.destroy();
                                 textScroll = null;
                             }
                             window.setTimeout(function () {
                                 textScroll = new IScroll(textRenderScroll[0]);
                             }, 100);
                         });
                     })(idx, $(el));
                 });
             };

         return {
             init: initTextElements
         };
     })($);


        $(function () {
            document.addEventListener('touchmove', function (e) { e.preventDefault(); }, false);
            FastClick.attach(document.body);

            window.onresize = documentBase.setPagersHeight;
            documentBase.setPagersHeight();
            documentBase.init();
            documentBase.setImgPlacehoder();

            pagerScroll.init();
            mediaPlayer.init();
            showText.init();
        });
    </script>
</body>
</html>